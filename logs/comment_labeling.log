2025-07-21 01:00:01,260 - src.utils.openai_labeler - INFO - Loading comments from C:\uni\nlp\iranian-backing-sentiment-nlp\data\raw\cafe_bazaar_comments.csv
2025-07-21 01:00:01,271 - src.utils.openai_labeler - INFO - Found 1688 valid comments to label
2025-07-21 01:00:01,315 - src.utils.openai_labeler - INFO - Estimated cost: $0.0903 (0.000054 per comment)
2025-07-21 01:00:01,315 - src.utils.openai_labeler - INFO - Using OpenAI Batch API for cost-efficient processing...
2025-07-21 01:00:01,342 - src.utils.openai_labeler - INFO - Processing batch 1 with 1000 comments...
2025-07-21 01:00:05,254 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/files "HTTP/1.1 200 OK"
2025-07-21 01:00:06,120 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/batches "HTTP/1.1 200 OK"
2025-07-21 01:00:06,127 - src.utils.openai_labeler - INFO - Batch job created: batch_687d5fe210508190b74fd97c6b02754c. Waiting for completion...
2025-07-21 01:00:06,766 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d5fe210508190b74fd97c6b02754c "HTTP/1.1 200 OK"
2025-07-21 01:00:06,767 - src.utils.openai_labeler - INFO - Batch batch_687d5fe210508190b74fd97c6b02754c status: validating. Waiting...
2025-07-21 01:00:37,804 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d5fe210508190b74fd97c6b02754c "HTTP/1.1 200 OK"
2025-07-21 01:00:37,805 - src.utils.openai_labeler - INFO - Batch batch_687d5fe210508190b74fd97c6b02754c status: in_progress. Waiting...
2025-07-21 01:01:08,794 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d5fe210508190b74fd97c6b02754c "HTTP/1.1 200 OK"
2025-07-21 01:01:08,795 - src.utils.openai_labeler - INFO - Batch batch_687d5fe210508190b74fd97c6b02754c status: in_progress. Waiting...
2025-07-21 01:01:39,780 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d5fe210508190b74fd97c6b02754c "HTTP/1.1 200 OK"
2025-07-21 01:01:39,781 - src.utils.openai_labeler - INFO - Batch batch_687d5fe210508190b74fd97c6b02754c status: in_progress. Waiting...
2025-07-21 01:02:10,828 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d5fe210508190b74fd97c6b02754c "HTTP/1.1 200 OK"
2025-07-21 01:02:10,829 - src.utils.openai_labeler - INFO - Batch batch_687d5fe210508190b74fd97c6b02754c status: in_progress. Waiting...
2025-07-21 01:02:41,903 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d5fe210508190b74fd97c6b02754c "HTTP/1.1 200 OK"
2025-07-21 01:02:41,905 - src.utils.openai_labeler - INFO - Batch batch_687d5fe210508190b74fd97c6b02754c status: in_progress. Waiting...
2025-07-21 01:03:12,894 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d5fe210508190b74fd97c6b02754c "HTTP/1.1 200 OK"
2025-07-21 01:03:12,902 - src.utils.openai_labeler - INFO - Batch batch_687d5fe210508190b74fd97c6b02754c status: finalizing. Waiting...
2025-07-21 01:03:43,784 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d5fe210508190b74fd97c6b02754c "HTTP/1.1 200 OK"
2025-07-21 01:03:43,785 - src.utils.openai_labeler - INFO - Batch batch_687d5fe210508190b74fd97c6b02754c status: finalizing. Waiting...
2025-07-21 01:04:14,710 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d5fe210508190b74fd97c6b02754c "HTTP/1.1 200 OK"
2025-07-21 01:04:14,713 - src.utils.openai_labeler - INFO - Batch batch_687d5fe210508190b74fd97c6b02754c status: finalizing. Waiting...
2025-07-21 01:04:45,892 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d5fe210508190b74fd97c6b02754c "HTTP/1.1 200 OK"
2025-07-21 01:04:45,894 - src.utils.openai_labeler - INFO - Batch batch_687d5fe210508190b74fd97c6b02754c completed successfully!
2025-07-21 01:04:46,294 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d5fe210508190b74fd97c6b02754c "HTTP/1.1 200 OK"
2025-07-21 01:04:46,794 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/files/file-VPMLg4ytguQtXcDiPd3bSk/content "HTTP/1.1 200 OK"
2025-07-21 01:04:47,612 - src.utils.openai_labeler - INFO - Processing batch 2 with 688 comments...
2025-07-21 01:04:50,113 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/files "HTTP/1.1 200 OK"
2025-07-21 01:04:50,694 - httpx - INFO - HTTP Request: POST https://api.openai.com/v1/batches "HTTP/1.1 200 OK"
2025-07-21 01:04:50,695 - src.utils.openai_labeler - INFO - Batch job created: batch_687d60feb064819090c11eae69fcbab3. Waiting for completion...
2025-07-21 01:04:51,015 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:04:51,017 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: validating. Waiting...
2025-07-21 01:05:22,947 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:05:22,948 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:05:56,066 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:05:56,067 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:06:26,965 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:06:26,966 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:06:57,875 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:06:57,876 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:07:28,716 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:07:28,717 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:08:00,684 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:08:00,685 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:08:31,625 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:08:31,625 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:09:02,569 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:09:02,570 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:09:33,587 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:09:33,587 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:10:04,528 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:10:04,529 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:10:35,575 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:10:35,576 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:11:06,649 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:11:06,654 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:11:37,680 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:11:37,682 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:12:08,707 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:12:08,708 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:12:39,662 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:12:39,663 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:13:13,275 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:13:13,276 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:13:45,550 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:13:45,551 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:14:16,580 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:14:16,580 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:14:47,750 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:14:47,751 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:15:18,847 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:15:18,847 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:15:54,489 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:15:54,491 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:16:25,551 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:16:25,553 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:16:56,579 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:16:56,580 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:17:27,573 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:17:27,576 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:17:58,624 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:17:58,625 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:18:29,603 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:18:29,604 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:19:00,527 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:19:00,528 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:19:31,653 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:19:31,663 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:20:02,684 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:20:02,685 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:20:33,848 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:20:33,849 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:21:04,873 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:21:04,875 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:21:35,865 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:21:35,866 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:22:06,894 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:22:06,895 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:22:37,827 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:22:37,828 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:23:08,952 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:23:08,955 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:23:40,005 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:23:40,006 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:24:10,926 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:24:10,927 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: in_progress. Waiting...
2025-07-21 01:24:41,867 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:24:41,868 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: finalizing. Waiting...
2025-07-21 01:25:16,736 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:25:16,737 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: finalizing. Waiting...
2025-07-21 01:25:47,614 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:25:47,616 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: finalizing. Waiting...
2025-07-21 01:26:18,465 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:26:18,466 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 status: finalizing. Waiting...
2025-07-21 01:26:49,266 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:26:49,266 - src.utils.openai_labeler - INFO - Batch batch_687d60feb064819090c11eae69fcbab3 completed successfully!
2025-07-21 01:26:49,799 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/batches/batch_687d60feb064819090c11eae69fcbab3 "HTTP/1.1 200 OK"
2025-07-21 01:26:50,804 - httpx - INFO - HTTP Request: GET https://api.openai.com/v1/files/file-Uf4vqRfJTpEeHHaPgR2z6c/content "HTTP/1.1 200 OK"
2025-07-21 01:26:51,768 - src.utils.openai_labeler - INFO - Labeled comments saved to C:\uni\nlp\iranian-backing-sentiment-nlp\data\processed\labeled_comments.csv
2025-07-21 01:26:51,769 - src.utils.openai_labeler - INFO - Labeling completed! Stats saved to C:\uni\nlp\iranian-backing-sentiment-nlp\data\processed\labeling_stats.json

✅ Labeling Complete!
📊 Statistics:
  Total comments processed: 1688
  Successfully labeled: 1688
  Failed: 0
  Success rate: 100.00%

💸 Cost Analysis:
  Total cost: $0.0434
  Cost per comment: $0.000026
  Input tokens: 282,797
  Total cost: $0.0434
  Cost per comment: $0.000026
  Input tokens: 282,797
  Output tokens: 1,688

⏱️ Performance:
  Duration: 1610.51 seconds
  Speed: 1.05 comments/second

📁 Output saved to: C:\uni\nlp\iranian-backing-sentiment-nlp\data\processed\labeled_comments.csv

📈 Sentiment Distribution:
  Negative: 1060 (62.8%)
  Positive: 486 (28.8%)
  Neutral: 142 (8.4%)
